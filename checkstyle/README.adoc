= checkstyle plugin

== Usage

Enforces certain coding standards, complements both `enforcer` and `formatter` plugins.

Focuses on best practices for code and not stylistic formatting as that is done by `formatter` plugin.

Checks are automatically done once included to project.

You can manually test checkstyle rules with `mvn checkstyle:check`

Documentation and further configuration for each check can be found https://checkstyle.org/checks.html[in their documentation]

=== Add the following to pom.xml

.pom.xml
[source,xml]
----
<plugin>
  <groupId>org.apache.maven.plugins</groupId>
  <artifactId>maven-checkstyle-plugin</artifactId>
  <version>3.5.0</version>
  <executions>
    <execution>
      <id>verify-style-errors</id>
      <goals>
        <goal>check</goal>
      </goals>
      <phase>process-classes</phase>
      <configuration>
        <violationSeverity>error</violationSeverity>
        <logViolationsToConsole>true</logViolationsToConsole>
        <failOnViolation>true</failOnViolation>
        <failsOnError>false</failsOnError>
        <checkstyleRules>
          <module name="Checker">
            <module name="TreeWalker">
              <!-- annotations -->
              <module name="MissingDeprecated"></module>
              <module name="MissingOverride"></module>
              <!-- block checks -->
              <module name="AvoidNestedBlocks">
                <property name="allowInSwitchCase" value="true"></property>
              </module>
              <module name="EmptyBlock">
                <property name="option" value="text"></property>
              </module>
              <module name="EmptyCatchBlock"></module>
              <module name="NeedBraces"></module>
              <!-- class design -->
              <module name="FinalClass"></module>
              <module name="MutableException"></module>
              <module name="OneTopLevelClass"></module>
              <module name="VisibilityModifier"></module>
              <!-- coding -->
              <module name="AvoidNoArgumentSuperConstructorCall"></module>
              <module name="CovariantEquals"></module>
              <module name="DeclarationOrder"></module>
              <module name="DefaultComesLast"></module>
              <module name="EmptyStatement"></module>
              <module name="EqualsAvoidNull"></module>
              <module name="EqualsHashCode"></module>
              <module name="FallThrough"></module>
              <module name="HiddenField"></module>
              <module name="IllegalCatch"></module>
              <module name="IllegalThrows"></module>
              <module name="IllegalToken"></module>
              <module name="IllegalType"></module>
              <module name="InnerAssignment"></module>
              <module name="MissingSwitchDefault"></module>
              <module name="ModifiedControlVariable">
                <property name="skipEnhancedForLoopVariable" value="true"></property>
              </module>
              <module name="MultipleVariableDeclarations"></module>
              <module name="NestedForDepth">
                <property name="max" value="1"></property>
              </module>
              <module name="NestedIfDepth"></module>
              <module name="NestedTryDepth"></module>
              <module name="NoArrayTrailingComma"></module>
              <module name="NoClone"></module>
              <module name="NoEnumTrailingComma"></module>
              <module name="NoFinalizer"></module>
              <module name="OneStatementPerLine"></module>
              <module name="PackageDeclaration"></module>
              <module name="ParameterAssignment"></module>
              <module name="RequireThis">
                <property name="checkFields" value="false"></property>
                <property name="checkMethods" value="false"></property>
                <property name="validateOnlyOverlapping" value="true"></property>
              </module>
              <module name="SimplifyBooleanReturn"></module>
              <module name="SimplifyBooleanExpression"></module>
              <module name="StringLiteralEquality"></module>
              <module name="SuperClone"></module>
              <module name="SuperFinalize"></module>
              <module name="UnnecessarySemicolonAfterOuterTypeDeclaration"></module>
              <module name="UnnecessarySemicolonAfterTypeMemberDeclaration"></module>
              <module name="UnnecessarySemicolonInEnumeration"></module>
              <module name="UnnecessarySemicolonInTryWithResources"></module>
              <module name="UnusedLocalVariable"></module>
              <module name="VariableDeclarationUsageDistance"></module>
              <!-- imports -->
              <module name="AvoidStarImport"></module>
              <module name="AvoidStaticImport"></module>
              <module name="IllegalImport"></module>
              <module name="RedundantImport"></module>
              <!-- Miscellaneous, part of TreeWalker module -->
              <module name="ArrayTypeStyle"></module>
              <module name="FinalParameters"></module>
              <module name="NoCodeInFile"></module>
              <module name="OuterTypeFilename"></module>
              <module name="UpperEll"></module>
              <!-- modifiers -->
              <module name="ClassMemberImpliedModifier"></module>
              <module name="InterfaceMemberImpliedModifier"></module>
              <module name="ModifierOrder"></module>
              <!-- naming conventions -->
              <module name="PackageName">
                <property name="format" value="^com\.teragrep\.[a-z]{3}_\d{2}(.[a-zA-Z]\w*)*$"></property>
              </module>
              <module name="TypeName"></module>
            </module>
            <!-- Miscellaneous, part of Checker module-->
            <module name="NewlineAtEndOfFile"></module>
            <module name="OrderedProperties"></module>
            <module name="Translation"></module>
            <module name="UniqueProperties"></module>
          </module>
        </checkstyleRules>
      </configuration>
    </execution>
    <execution>
      <id>verify-style-warnings</id>
      <goals>
        <goal>check</goal>
      </goals>
      <phase>process-classes</phase>
      <configuration>
        <violationSeverity>warning</violationSeverity>
        <logViolationsToConsole>true</logViolationsToConsole>
        <failOnViolation>false</failOnViolation>
        <failsOnError>false</failsOnError>
        <checkstyleRules>
          <module name="Checker">
            <module name="TreeWalker">
              <module name="FinalLocalVariable">
                <property name="severity" value="warning"></property>
              </module>
              <module name="MagicNumber">
                <property name="severity" value="warning"></property>
              </module>
              <module name="ReturnCount">
                <property name="severity" value="warning"></property>
                <property name="max" value="5"></property>
              </module>
            </module>
          </module>
        </checkstyleRules>
      </configuration>
    </execution>
  </executions>
</plugin>
----
